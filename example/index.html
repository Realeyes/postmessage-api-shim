<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Client</title>
</head>
<body>
<script src="../dist/index.js"></script>
<script>
  var serverFrame = document.createElement('iframe');
  document.body.appendChild(serverFrame);
  serverFrame.src = 'server-frame.html';

  serverFrame.onload = function () {
    console.log('calling client.foo()');
    pas.CreateClientAsync(window, serverFrame.contentWindow)
    .then(function(client) {
        client.foo().then(console.log.bind(console, 'got response: '));
    });
  };
</script>
</body>
</html>
